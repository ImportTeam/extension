import{a as y}from"./client-5jyeqxZ7.js";const H=n=>{let o;const t=new Set,s=(i,h)=>{const g=typeof i=="function"?i(o):i;if(!Object.is(g,o)){const S=o;o=h??(typeof g!="object"||g===null)?g:Object.assign({},o,g),t.forEach(f=>f(o,S))}},a=()=>o,u={setState:s,getState:a,getInitialState:()=>d,subscribe:i=>(t.add(i),()=>t.delete(i))},d=o=n(s,a,u);return u},x=(n=>n?H(n):H),O=n=>n;function j(n,o=O){const t=y.useSyncExternalStore(n.subscribe,y.useCallback(()=>o(n.getState()),[n,o]),y.useCallback(()=>o(n.getInitialState()),[n,o]));return y.useDebugValue(t),t}const R=n=>{const o=x(n),t=s=>j(o,s);return Object.assign(t,o),t},F=(n=>R);function w(n,o){let t;try{t=n()}catch{return}return{getItem:a=>{var r;const m=d=>d===null?null:JSON.parse(d,void 0),u=(r=t.getItem(a))!=null?r:null;return u instanceof Promise?u.then(m):m(u)},setItem:(a,r)=>t.setItem(a,JSON.stringify(r,void 0)),removeItem:a=>t.removeItem(a)}}const p=n=>o=>{try{const t=n(o);return t instanceof Promise?t:{then(s){return p(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return p(s)(t)}}}},C=(n,o)=>(t,s,a)=>{let r={storage:w(()=>localStorage),partialize:e=>e,version:0,merge:(e,v)=>({...v,...e}),...o},m=!1;const u=new Set,d=new Set;let i=r.storage;if(!i)return n((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),t(...e)},s,a);const h=()=>{const e=r.partialize({...s()});return i.setItem(r.name,{state:e,version:r.version})},g=a.setState;a.setState=(e,v)=>(g(e,v),h());const S=n((...e)=>(t(...e),h()),s,a);a.getInitialState=()=>S;let f;const k=()=>{var e,v;if(!i)return;m=!1,u.forEach(c=>{var l;return c((l=s())!=null?l:S)});const b=((v=r.onRehydrateStorage)==null?void 0:v.call(r,(e=s())!=null?e:S))||void 0;return p(i.getItem.bind(i))(r.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==r.version){if(r.migrate){const l=r.migrate(c.state,c.version);return l instanceof Promise?l.then(I=>[!0,I]):[!0,l]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var l;const[I,_]=c;if(f=r.merge(_,(l=s())!=null?l:S),t(f,!0),I)return h()}).then(()=>{b?.(f,void 0),f=s(),m=!0,d.forEach(c=>c(f))}).catch(c=>{b?.(void 0,c)})};return a.persist={setOptions:e=>{r={...r,...e},e.storage&&(i=e.storage)},clearStorage:()=>{i?.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>k(),hasHydrated:()=>m,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},r.skipHydration||k(),f||S},J=C,E={light:{background:"#ffffff",backgroundSecondary:"#f9fafb",buttonDark:"#4f46e5",border:"#e5e7eb",textPrimary:"#111827",textSecondary:"#4b5563",textTertiary:"#9ca3af",accent:"#d97706",buttonHover:"#4338ca"}},N=E.light;export{N as a,F as c,J as p};
