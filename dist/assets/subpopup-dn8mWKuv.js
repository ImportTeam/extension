import{r as x,j as e,c as F,R as B}from"./client-CWBlmkDm.js";import{c as E,p as O,a as i}from"./colors-xatJuidx.js";const $={getItem:async t=>new Promise(s=>{chrome.storage.local.get([t],c=>{s(c[t]??null)})}),setItem:async(t,s)=>new Promise(c=>{chrome.storage.local.set({[t]:s},()=>{c()})}),removeItem:async t=>new Promise(s=>{chrome.storage.local.remove([t],()=>{s()})})},z=E()(O(t=>({isOpen:!1,activeTab:"list",isLoading:!1,error:null,customMethods:[],setIsOpen:s=>t({isOpen:s}),setActiveTab:s=>t({activeTab:s}),addPaymentMethod:s=>{const c=Date.now(),p={...s,createdAt:c,updatedAt:c,isCustom:!0};t(n=>({customMethods:[...n.customMethods,p]}))},updatePaymentMethod:(s,c)=>{t(p=>({customMethods:p.customMethods.map(n=>n.id===s?{...n,...c,updatedAt:Date.now()}:n)}))},deletePaymentMethod:s=>{t(c=>({customMethods:c.customMethods.filter(p=>p.id!==s)}))},setCustomMethods:s=>{t({customMethods:s})},reset:()=>{t({isOpen:!1,activeTab:"list",isLoading:!1,error:null,customMethods:[]})}}),{name:"subpopup-store",storage:$,partialize:t=>({customMethods:t.customMethods})})),U=()=>z(t=>t.activeTab),H=()=>z(t=>t.customMethods),W=()=>z(t=>({setIsOpen:t.setIsOpen,setActiveTab:t.setActiveTab,addPaymentMethod:t.addPaymentMethod,updatePaymentMethod:t.updatePaymentMethod,deletePaymentMethod:t.deletePaymentMethod,setCustomMethods:t.setCustomMethods,reset:t.reset})),Y=()=>{const{addPaymentMethod:t}=W(),[s,c]=x.useState(!1),[p,n]=x.useState(null),[d,y]=x.useState(!1),[r,N]=x.useState({id:"",name:"",savingAmount:0,fee:.8,baseFee:.8,confidence:.8,hasInstallment:!1,installmentInfo:""}),f=w=>{const{name:v,value:u,type:C}=w.target;N(k=>({...k,[v]:C==="checkbox"?w.target.checked:C==="number"?parseFloat(u)||0:u}))},b=()=>r.id.trim()?r.name.trim()?r.savingAmount<0?(n("Ï†àÏïΩ Í∏àÏï°ÏùÄ 0 Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§."),!1):r.fee<0||r.fee>100?(n("ÏàòÏàòÎ£åÎäî 0 ~ 100 ÏÇ¨Ïù¥Ïó¨Ïïº Ìï©ÎãàÎã§."),!1):r.confidence<0||r.confidence>1?(n("Ïã†Î¢∞ÎèÑÎäî 0 ~ 1 ÏÇ¨Ïù¥Ïó¨Ïïº Ìï©ÎãàÎã§."),!1):!0:(n("Í≤∞Ï†ú ÏàòÎã® Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."),!1):(n("Í≤∞Ï†ú ÏàòÎã® IDÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."),!1),M=async w=>{if(w.preventDefault(),n(null),y(!1),!!b()){c(!0);try{await new Promise(u=>setTimeout(u,500));const v={id:`custom-${Date.now()}`,name:r.name,savingAmount:r.savingAmount,fee:r.fee,baseFee:r.baseFee,confidence:r.confidence,hasInstallment:r.hasInstallment,installmentInfo:r.installmentInfo||void 0};t(v),y(!0),N({id:"",name:"",savingAmount:0,fee:.8,baseFee:.8,confidence:.8,hasInstallment:!1,installmentInfo:""}),setTimeout(()=>y(!1),3e3)}catch(v){n(v instanceof Error?v.message:"Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{c(!1)}}};return e.jsxs("form",{className:"form-section",onSubmit:M,children:[p&&e.jsxs("div",{className:"error-message",children:[e.jsx("strong",{children:"‚ö†Ô∏è Ïò§Î•ò"}),e.jsx("div",{style:{marginTop:"4px"},children:p})]}),d&&e.jsxs("div",{className:"success-message",children:[e.jsx("strong",{children:"‚úì ÏôÑÎ£å!"}),e.jsx("div",{style:{marginTop:"4px"},children:"Í≤∞Ï†ú ÏàòÎã®Ïù¥ Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§"})]}),e.jsx("div",{style:{fontSize:"12px",fontWeight:"700",color:"var(--color-primary)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-md)",borderBottom:"2px solid var(--color-primary-lighter)"},children:"Í≤∞Ï†ú ÏàòÎã® Ï†ïÎ≥¥"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Í≤∞Ï†ú ÏàòÎã® Ïù¥Î¶Ñ"}),e.jsx("input",{type:"text",name:"name",className:"form-input",placeholder:"Ïòà: Ïã†ÌïúÏπ¥Îìú, ÌÜ†Ïä§Î®∏Îãà",value:r.name,onChange:f,disabled:s}),e.jsx("div",{className:"form-hint",children:"üí° ÏÇ¨Ïö©ÏûêÏóêÍ≤å ÌëúÏãúÎê† Í≤∞Ï†ú ÏàòÎã® Ïù¥Î¶Ñ"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ÏòàÏÉÅ Ï†àÏïΩ Í∏àÏï°"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx("input",{type:"number",name:"savingAmount",className:"form-input",placeholder:"0",value:r.savingAmount,onChange:f,disabled:s,min:"0",style:{flex:1}}),e.jsx("span",{style:{color:"var(--color-text-tertiary)",fontWeight:"600"},children:"Ïõê"})]}),e.jsx("div",{className:"form-hint",children:"üí° Ïù¥ Í≤∞Ï†ú ÏàòÎã® ÏÑ†ÌÉù Ïãú Ï†àÏïΩ Í∞ÄÎä•Ìïú Í∏àÏï°"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ÏàòÏàòÎ£åÏú®"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx("input",{type:"number",name:"fee",className:"form-input",placeholder:"0.5",value:r.fee,onChange:f,disabled:s,min:"0",max:"100",step:"0.1",style:{flex:1}}),e.jsx("span",{style:{color:"var(--color-text-tertiary)",fontWeight:"600"},children:"%"})]}),e.jsx("div",{className:"form-hint",children:"üí° ÌòÑÏû¨ ÏàòÏàòÎ£å"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Í∏∞Ï§Ä ÏàòÏàòÎ£å"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx("input",{type:"number",name:"baseFee",className:"form-input",placeholder:"0.8",value:r.baseFee,onChange:f,disabled:s,min:"0",max:"100",step:"0.1",style:{flex:1}}),e.jsx("span",{style:{color:"var(--color-text-tertiary)",fontWeight:"600"},children:"%"})]}),e.jsx("div",{className:"form-hint",children:"üí° Í∏∞Ï§Ä ÏàòÏàòÎ£å"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Ïã†Î¢∞ÎèÑ"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)",padding:"var(--spacing-md)",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)"},children:[e.jsx("input",{type:"range",name:"confidence",min:"0",max:"1",step:"0.1",value:r.confidence,onChange:f,disabled:s,style:{flex:1,cursor:s?"not-allowed":"pointer",accentColor:"var(--color-primary)"}}),e.jsxs("span",{style:{fontSize:"14px",fontWeight:"700",color:"var(--color-primary)",minWidth:"40px",textAlign:"right"},children:[(r.confidence*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"form-hint",children:"üí° 0%Îäî ÏµúÌïò, 100%Îäî ÏµúÍ≥† Ïã†Î¢∞ÎèÑ"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"var(--spacing-md)",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",cursor:s?"not-allowed":"pointer",transition:"all 0.2s ease"},children:[e.jsx("input",{type:"checkbox",name:"hasInstallment",id:"has-installment",checked:r.hasInstallment,onChange:f,disabled:s,style:{accentColor:"var(--color-primary)",cursor:"pointer",marginRight:"var(--spacing-md)",width:"18px",height:"18px"}}),e.jsx("label",{htmlFor:"has-installment",style:{cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"var(--color-text-primary)"},children:"Ìï†Î∂Ä ÏßÄÏõê"})]}),r.hasInstallment&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Ìï†Î∂Ä Ï†ïÎ≥¥"}),e.jsx("input",{type:"text",name:"installmentInfo",className:"form-input",placeholder:"Ïòà: 3Í∞úÏõî Î¨¥Ïù¥Ïûê, 6Í∞úÏõî Ïù¥ÏÉÅ Í∞ÄÎä•",value:r.installmentInfo,onChange:f,disabled:s}),e.jsx("div",{className:"form-hint",children:"üí° Ìï†Î∂Ä ÏòµÏÖò ÏÉÅÏÑ∏ Ï†ïÎ≥¥"})]}),e.jsx("div",{className:"button-group",style:{marginTop:"var(--spacing-xl)"},children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,style:{cursor:s?"not-allowed":"pointer",opacity:s?.7:1},children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner",style:{width:"14px",height:"14px",borderWidth:"2px"}}),"Ï†ÄÏû• Ï§ë..."]}):e.jsx(e.Fragment,{children:"‚úì Ï∂îÍ∞ÄÌïòÍ∏∞"})})})]})},q=()=>{const t=H(),{deletePaymentMethod:s}=W();if(t.length===0)return e.jsxs("div",{className:"payment-list-empty",children:[e.jsx("div",{className:"payment-list-empty-icon",children:"ÔøΩÔ∏è"}),e.jsx("div",{className:"payment-list-empty-text",children:"ÏïÑÏßÅ Í≤∞Ï†ú ÏàòÎã®Ïù¥ ÏóÜÏñ¥Ïöî"}),e.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-tertiary)",marginTop:"8px"},children:"ÏÉàÎ°úÏö¥ Í≤∞Ï†ú ÏàòÎã®ÏùÑ Ï∂îÍ∞ÄÌï¥Î≥¥ÏÑ∏Ïöî"})]});const c=n=>{window.confirm("Ï†ïÎßê Ïù¥ Í≤∞Ï†ú ÏàòÎã®ÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†Ïñ¥Ïöî?")&&s(n)},p=n=>{const d=n.toLowerCase();return d.includes("Ïπ¥Îìú")?"üí≥":d.includes("Í≥ÑÏ¢å")||d.includes("ÏÜ°Í∏à")?"üè¶":d.includes("Ìè¨Ïù∏Ìä∏")||d.includes("Ïø†Ìè∞")?"üé´":d.includes("ÌéòÏù¥")||d.includes("pay")?"üì±":d.includes("ÌòÑÍ∏à")?"üíµ":"üí∞"};return e.jsx("div",{className:"payment-list",children:t.map(n=>{const d=n.confidence>=.95,y=p(n.name);return e.jsxs("div",{className:"payment-item",children:[e.jsx("div",{className:"payment-item-icon",children:y}),e.jsxs("div",{className:"payment-item-content",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--spacing-md)"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"payment-item-name",children:n.name}),e.jsx("div",{className:"payment-item-meta",children:e.jsx("span",{children:new Date(n.createdAt).toLocaleDateString("ko-KR")})})]}),d&&e.jsx("div",{className:"payment-item-badge success",children:"‚≠ê Ïö∞Ïàò"})]}),e.jsxs("div",{className:"payment-item-info",children:[e.jsxs("div",{className:"payment-item-info-item",children:[e.jsx("span",{className:"payment-item-info-label",children:"Ï†àÏïΩÏï°"}),e.jsxs("span",{className:"payment-item-info-value",children:["‚Ç©",n.savingAmount.toLocaleString()]})]}),e.jsxs("div",{className:"payment-item-info-item",children:[e.jsx("span",{className:"payment-item-info-label",children:"ÏàòÏàòÎ£å"}),e.jsxs("span",{className:"payment-item-info-value",children:[n.fee,"%"]})]}),e.jsxs("div",{className:"payment-item-info-item",children:[e.jsx("span",{className:"payment-item-info-label",children:"Ïã†Î¢∞ÎèÑ"}),e.jsxs("span",{className:"payment-item-info-value",children:[(n.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"payment-item-info-item",children:[e.jsx("span",{className:"payment-item-info-label",children:"Í∏∞Î≥∏ÏàòÏàòÎ£å"}),e.jsxs("span",{className:"payment-item-info-value",children:[n.baseFee,"%"]})]})]}),n.hasInstallment&&n.installmentInfo&&e.jsxs("div",{style:{fontSize:"12px",padding:"var(--spacing-md)",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",color:"var(--color-text-secondary)",marginBottom:"var(--spacing-md)",borderLeft:"3px solid var(--color-primary-lighter)",fontWeight:"500"},children:[e.jsx("strong",{children:"Ìï†Î∂Ä Ï†ïÎ≥¥:"})," ",n.installmentInfo]}),e.jsxs("div",{className:"payment-item-actions",style:{justifyContent:"space-between"},children:[e.jsx("button",{className:"payment-item-btn payment-item-btn-edit",onClick:()=>alert("ÏàòÏ†ï Í∏∞Îä•ÏùÄ Í≥ß Ï∂îÍ∞ÄÎê©ÎãàÎã§."),style:{flex:1},title:"ÏàòÏ†ï",children:"‚úèÔ∏è ÏàòÏ†ï"}),e.jsx("button",{className:"payment-item-btn payment-item-btn-delete",onClick:()=>c(n.id),style:{flex:1},title:"ÏÇ≠Ï†ú",children:"üóëÔ∏è ÏÇ≠Ï†ú"})]})]})]},n.id)})})},G=()=>{const t=U(),{setActiveTab:s}=W();return e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"subpopup-header",children:[e.jsxs("div",{className:"subpopup-header-title",children:[e.jsx("span",{style:{fontSize:"20px",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},children:"üí≥"}),e.jsx("h1",{children:"Í≤∞Ï†ú ÏàòÎã® Í¥ÄÎ¶¨"})]}),e.jsx("button",{className:"subpopup-header-close-btn",onClick:()=>window.close(),title:"Îã´Í∏∞","aria-label":"Ï∞Ω Îã´Í∏∞",children:"‚úï"})]}),e.jsxs("div",{className:"subpopup-tabs",children:[e.jsx("button",{className:`subpopup-tab-btn ${t==="add"?"active":""}`,onClick:()=>s("add"),"aria-selected":t==="add",children:"‚ûï ÏÉàÎ°ú Ï∂îÍ∞Ä"}),e.jsx("button",{className:`subpopup-tab-btn ${t==="list"?"active":""}`,onClick:()=>s("list"),"aria-selected":t==="list",children:"üìã Í¥ÄÎ¶¨"})]}),e.jsxs("div",{className:"subpopup-content",style:{animation:"fadeIn 0.2s ease"},children:[t==="add"&&e.jsx(Y,{}),t==="list"&&e.jsx(q,{})]}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(4px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})},X=()=>{const[t,s]=x.useState(null),[c,p]=x.useState([]),[n,d]=x.useState([]),[y,r]=x.useState(0),[N,f]=x.useState(!0),b=x.useRef(null);x.useEffect(()=>{M()},[]),x.useEffect(()=>{if(!N&&b.current){const o=()=>{if(!b.current)return;const l=b.current.scrollHeight;console.log("[AutoNotification] Content scroll height:",l);const S=document.querySelector('[style*="flexShrink"]'),I=S?S.clientHeight:52,P=Math.min(I+l+24,900);console.log("[AutoNotification] Calculated total height:",{headerHeight:I,contentHeight:l,totalHeight:P});try{window.resizeTo(420,P),console.log("[AutoNotification] Window resized to:",{width:420,height:P})}catch(T){console.warn("[AutoNotification] Cannot resize window:",T)}},m=new ResizeObserver(()=>{o()});m.observe(b.current),o();const h=b.current.querySelectorAll("img");let j=0;const g=()=>{j++,j===h.length&&(console.log("[AutoNotification] All images loaded, recalculating height"),setTimeout(o,100))};return h.forEach(l=>{l.complete?j++:(l.addEventListener("load",g),l.addEventListener("error",g))}),j===h.length&&setTimeout(o,100),()=>{m.disconnect(),h.forEach(l=>{l.removeEventListener("load",g),l.removeEventListener("error",g)})}}},[N,t,c,n]);const M=async()=>{var o,m,h,j;try{const g=await chrome.storage.local.get(["currentProduct"]);if(g.currentProduct){const l=g.currentProduct;if(console.log("[AutoNotification] Loaded product:",{title:(o=l.title)==null?void 0:o.substring(0,50),imageUrl:((m=l.imageUrl)==null?void 0:m.substring(0,80))||"none",imagesCount:((h=l.images)==null?void 0:h.length)||0,variantsCount:((j=l.variants)==null?void 0:j.length)||0,variants:l.variants}),s(l),Array.isArray(l.cardBenefits)){const I=[...l.cardBenefits].sort((P,T)=>(T.rate||0)-(P.rate||0)).slice(0,3);p(I)}const S=[];l.imageUrl&&S.push(l.imageUrl),Array.isArray(l.images)&&l.images.length>0&&S.push(...l.images.filter(I=>typeof I=="string")),d(S),console.log("[AutoNotification] Images loaded:",S.length)}}catch(g){console.error("[AutoNotification] Error:",g)}finally{f(!1)}},w=()=>{n.length>1&&r(o=>(o-1+n.length)%n.length)},v=()=>{n.length>1&&r(o=>(o+1)%n.length)};if(N||!t)return null;const u=t.originalPrice||0,C=t.discountPrice||t.amount||0,k=u>0?Math.round((u-C)/u*100):0,L=chrome.runtime.getURL("assets/icon/picsel-logo.png"),A=n[y];return e.jsxs("div",{ref:b,style:a.wrapper,children:[e.jsxs("div",{style:a.header,children:[e.jsxs("div",{style:a.logoWrapper,children:[e.jsx("img",{src:L,alt:"PicSel",style:a.logo,onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("span",{style:a.title,children:"PicSel"})]}),e.jsx("button",{style:a.closeBtn,onClick:()=>window.close(),children:"‚úï"})]}),e.jsxs("div",{style:a.content,children:[e.jsxs("div",{style:a.productCard,children:[A&&e.jsxs("div",{style:a.imageCarousel,children:[e.jsx("img",{src:A,alt:"Product image",style:a.productImage,onError:o=>{console.error("[AutoNotification] Image failed:",A),o.currentTarget.style.display="none"},onLoad:()=>{console.log("[AutoNotification] Image loaded:",A)}}),n.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{style:a.carouselBtn,onClick:w,"aria-label":"Ïù¥Ï†Ñ",children:"‚Äπ"}),e.jsx("button",{style:{...a.carouselBtn,right:"8px"},onClick:v,"aria-label":"Îã§Ïùå",children:"‚Ä∫"}),e.jsx("div",{style:a.indicators,children:n.map((o,m)=>e.jsx("div",{style:{...a.indicator,opacity:m===y?1:.4}},m))})]})]}),e.jsxs("div",{style:a.infoWrapper,children:[e.jsx("h3",{style:a.title3,children:t.title}),e.jsxs("div",{style:a.priceGroup,children:[u>0&&u!==C?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:a.originalPrice,children:["‚Ç©",u.toLocaleString()]}),k>0&&e.jsxs("span",{style:a.discountTag,children:["-",k,"%"]})]}):null,e.jsxs("div",{style:a.finalPrice,children:["‚Ç©",C.toLocaleString()]})]}),t.shippingInfo&&e.jsxs("span",{style:a.shippingInfo,children:["üì¶ ",t.shippingInfo]})]})]}),c.length>0&&e.jsxs("div",{style:a.benefitsSection,children:[e.jsxs("h4",{style:a.sectionTitle,children:["üí≥ Ïπ¥ÎìúÌòúÌÉù TOP",c.length]}),c.map((o,m)=>e.jsxs("div",{style:a.benefitCard,children:[e.jsxs("div",{style:a.benefitInfo,children:[e.jsx("span",{style:a.cardName,children:o.cardName}),o.benefit&&e.jsx("span",{style:a.benefitText,children:o.benefit})]}),o.rate&&e.jsxs("span",{style:a.rateTag,children:[o.rate,"%"]})]},m))]}),(t.giftCardDiscount||t.cashback)&&e.jsxs("div",{style:a.extraSection,children:[t.giftCardDiscount&&e.jsxs("div",{style:a.extraItem,children:["üéÅ ",t.giftCardDiscount.description]}),t.cashback&&e.jsxs("div",{style:a.extraItem,children:["üí∞ ",t.cashback.description]})]}),t.variants&&t.variants.length>0&&e.jsxs("div",{style:a.variantsSection,children:[e.jsx("h4",{style:a.sectionTitle,children:"üì¶ Îã§Î•∏ Íµ¨ÏÑ±"}),e.jsx("div",{style:a.variantsScroll,children:t.variants.map((o,m)=>{var h;return e.jsxs("div",{style:a.variantCard,children:[e.jsx("span",{style:a.variantName,children:o.name}),e.jsxs("span",{style:a.variantPrice,children:["‚Ç©",(h=o.price)==null?void 0:h.toLocaleString()]}),o.discount&&e.jsx("span",{style:a.variantDiscount,children:o.discount})]},m)})})]})]})]})},a={wrapper:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:i.background,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',color:i.textPrimary,overflow:"hidden"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",borderBottom:`1px solid ${i.border}`,backgroundColor:i.backgroundSecondary,flexShrink:0},logoWrapper:{display:"flex",alignItems:"center",gap:"8px"},logo:{width:"28px",height:"28px",objectFit:"contain"},title:{fontSize:"16px",fontWeight:"700",color:i.textPrimary},closeBtn:{background:"none",border:"none",cursor:"pointer",padding:"4px 8px",fontSize:"18px",color:i.textSecondary,borderRadius:"4px",transition:"all 0.2s"},content:{flex:1,overflowY:"auto",padding:"12px",display:"flex",flexDirection:"column",gap:"10px",width:"100%"},productCard:{display:"flex",flexDirection:"column",gap:"12px",padding:"12px",backgroundColor:i.backgroundSecondary,borderRadius:"8px",borderLeft:`3px solid ${i.textSecondary}`},imageCarousel:{position:"relative",width:"100%",aspectRatio:"1.5",borderRadius:"6px",overflow:"hidden",backgroundColor:i.background,display:"flex",alignItems:"center",justifyContent:"center"},productImage:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",display:"block"},carouselBtn:{position:"absolute",top:"50%",left:"8px",transform:"translateY(-50%)",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",border:"none",borderRadius:"50%",width:"28px",height:"28px",fontSize:"18px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s",zIndex:10},indicators:{position:"absolute",bottom:"8px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"6px",zIndex:10},indicator:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"white",transition:"opacity 0.3s"},infoWrapper:{display:"flex",flexDirection:"column",gap:"8px"},title3:{margin:"0",fontSize:"12px",fontWeight:"700",lineHeight:"1.4",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",color:i.textPrimary},priceGroup:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},originalPrice:{fontSize:"11px",color:i.textSecondary,textDecoration:"line-through"},discountTag:{fontSize:"11px",fontWeight:"700",backgroundColor:i.accent,color:i.textPrimary,padding:"2px 6px",borderRadius:"3px"},finalPrice:{fontSize:"15px",fontWeight:"800",color:i.textPrimary,width:"100%"},shippingInfo:{fontSize:"10px",color:i.textSecondary,fontWeight:"600"},benefitsSection:{display:"flex",flexDirection:"column",gap:"6px"},sectionTitle:{margin:"0",fontSize:"11px",fontWeight:"700",textTransform:"uppercase",color:i.textSecondary,opacity:.7},benefitCard:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",backgroundColor:i.backgroundSecondary,borderRadius:"6px",fontSize:"11px"},benefitInfo:{display:"flex",flexDirection:"column",gap:"2px",flex:1},cardName:{fontWeight:"600",color:i.textPrimary},benefitText:{fontSize:"10px",color:i.textSecondary},rateTag:{fontSize:"11px",fontWeight:"700",backgroundColor:i.accent,color:i.textPrimary,padding:"2px 8px",borderRadius:"4px",marginLeft:"8px",flexShrink:0},extraSection:{display:"flex",flexDirection:"column",gap:"6px",paddingTop:"6px",borderTop:`1px solid ${i.border}`},extraItem:{padding:"8px 10px",backgroundColor:i.backgroundSecondary,borderRadius:"6px",fontSize:"11px",color:i.textPrimary,fontWeight:"500"},variantsSection:{display:"flex",flexDirection:"column",gap:"8px",paddingTop:"6px",borderTop:`1px solid ${i.border}`},variantsScroll:{display:"flex",gap:"8px",overflowX:"auto",paddingBottom:"4px",scrollBehavior:"smooth"},variantCard:{display:"flex",flexDirection:"column",gap:"4px",padding:"8px 12px",backgroundColor:i.backgroundSecondary,borderRadius:"6px",fontSize:"10px",whiteSpace:"nowrap",minWidth:"100px",border:`1px solid ${i.border}`,flex:"0 0 auto"},variantName:{fontSize:"10px",fontWeight:"600",color:i.textSecondary},variantPrice:{fontSize:"12px",fontWeight:"700",color:i.textPrimary},variantDiscount:{fontSize:"9px",fontWeight:"700",backgroundColor:i.accent,color:i.textPrimary,padding:"1px 4px",borderRadius:"2px",alignSelf:"flex-start"}},K=new URLSearchParams(window.location.search),D=K.get("auto")==="true";console.log(`üé™ [SubPopup] Mode: ${D?"Auto":"Manual"}`);const R=document.getElementById("root");R&&F.createRoot(R).render(e.jsx(B.StrictMode,{children:D?e.jsx(X,{}):e.jsx(G,{})}));
