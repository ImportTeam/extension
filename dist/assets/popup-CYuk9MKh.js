import{c as w,j as e,X as C,R as B}from"./x-o5hrmRBd.js";import{r as g,R as P}from"./chromeStorage-BOBytA-p.js";import{u as l}from"./store-BShFNUP9.js";import"./index-CtnQ7lw9.js";import{W as c}from"./constants-DOucEiR9.js";/* empty css                */const z=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R=w("settings",z),u=()=>l(t=>t.isLoading),W=()=>l(t=>t.isExpanded),I=()=>l(t=>t.selectedTab),H=()=>l(t=>t.error),h=()=>l(t=>t.recommendation),E=()=>l(t=>t.alternatives),L=()=>l(t=>t.discounts),M=()=>l(t=>t.cardBenefits),O=()=>{const t=h(),o=u();return!t&&!o},T=()=>{const t=h(),o=u();return!!t&&!o},b=()=>l(t=>({setLoading:t.setLoading,setRecommendation:t.setRecommendation,setAlternatives:t.setAlternatives,setDiscounts:t.setDiscounts,setCardBenefits:t.setCardBenefits,toggleExpanded:t.toggleExpanded,setSelectedTab:t.setSelectedTab,setShowPaymentMethod:t.setShowPaymentMethod,setError:t.setError,reset:t.reset})),N={light:{background:"#ffffff",cardBg:"#ffffff",buttonDark:"#393E44",buttonHover:"#2d3136",textPrimary:"#111827",textSecondary:"#4b5563"}},s=N.light,p={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",padding:"16px 0"},card:{padding:"24px 20px",background:s.cardBg,borderRadius:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)",textAlign:"center",maxWidth:"260px",width:"100%"},label:{fontSize:"14px",color:s.textPrimary,marginBottom:"8px",fontWeight:"700",letterSpacing:"0.3px"},amount:{fontSize:"36px",fontWeight:"900",color:s.textPrimary,margin:"0 0 6px 0",lineHeight:"1.1",letterSpacing:"-1.5px"},text:{fontSize:"13px",color:s.textSecondary,margin:"0",fontWeight:"500"}},A=()=>e.jsx("div",{style:p.container,children:e.jsxs("div",{style:p.card,children:[e.jsx("div",{style:p.label,className:"idle-label",children:e.jsx("span",{children:"ì´ë²ˆë‹¬"})}),e.jsx("div",{style:p.amount,children:"â‚©12,000"}),e.jsx("p",{style:p.text,children:"ì ˆì•½í–ˆì–´ìš”"})]})}),D=()=>{const t=E(),{setRecommendation:o}=b();return!t||t.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"ì¶”ê°€ ì˜µì…˜ì´ ì—†ìŠµë‹ˆë‹¤."}):e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"ë‹¤ë¥¸ ê²°ì œ ìˆ˜ë‹¨"}),e.jsx("div",{className:"space-y-2",children:t.map(n=>e.jsxs("button",{onClick:()=>o(n),className:`
              w-full p-3 rounded-md
              bg-white dark:bg-gray-700
              border border-gray-200 dark:border-gray-600
              hover:border-primary dark:hover:border-primary
              transition-all
              text-left
            `,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:n.name}),n.hasInstallment&&n.installmentInfo&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:n.installmentInfo})]}),e.jsxs("p",{className:"font-semibold text-success text-sm",children:["â‚©",n.savingAmount.toLocaleString()]})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:["ìˆ˜ìˆ˜ë£Œ: ",n.fee,"%",n.baseFee>n.fee&&e.jsxs("span",{className:"text-success ml-1",children:["(vs ",n.baseFee,"%)"]})]})]},n.id))})]})},F=t=>!t||t.length===0?null:e.jsxs("div",{style:{marginBottom:"12px",padding:"10px",backgroundColor:"#fef3c7",borderRadius:"6px"},children:[e.jsx("p",{style:{fontSize:"12px",fontWeight:"bold",color:"#92400e",margin:"0 0 8px 0"},children:"ðŸ’° ì¶”ê°€ í• ì¸ ì •ë³´"}),t.map((o,n)=>e.jsxs("div",{style:{fontSize:"12px",color:"#78350f",marginBottom:n<t.length-1?"4px":"0"},children:["â€¢ ",o.type,": ",o.rate,"% í• ì¸"]},n))]}),U=t=>!t||t.length===0?null:e.jsxs("div",{style:{marginBottom:"12px",padding:"10px",backgroundColor:"#fce7f3",borderRadius:"6px"},children:[e.jsx("p",{style:{fontSize:"12px",fontWeight:"bold",color:"#831843",margin:"0 0 8px 0"},children:"ðŸŽ ì¹´ë“œ í˜œíƒ"}),t.map((o,n)=>e.jsxs("div",{style:{fontSize:"12px",color:"#9f1239",marginBottom:n<t.length-1?"4px":"0"},children:["â€¢ ",o.card,": ",o.benefit]},n))]}),_=()=>e.jsx("button",{style:{width:"100%",padding:"12px",backgroundColor:"#4f46e5",color:"#ffffff",fontSize:"14px",fontWeight:"bold",border:"none",borderRadius:"6px",cursor:"pointer"},onMouseOver:t=>t.currentTarget.style.backgroundColor="#4338ca",onMouseOut:t=>t.currentTarget.style.backgroundColor="#4f46e5",onClick:()=>window.close(),children:"ì´ ê²°ì œ ìˆ˜ë‹¨ìœ¼ë¡œ ê²°ì œí•˜ê¸°"}),$=()=>{const t=h(),o=W(),n=L(),d=M(),{toggleExpanded:x}=b();return t?e.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden",marginBottom:"0"},children:[e.jsxs("div",{style:{padding:"12px"},children:[e.jsx("div",{style:{marginBottom:"12px"},children:e.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:"0",color:"#000"},children:t.name})}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("div",{style:{fontSize:"clamp(20px, 8vw, 28px)",fontWeight:"bold",color:"#10b981",margin:"0 0 4px 0"},children:["â‚©",t.savingAmount.toLocaleString()," ì ˆì•½"]}),e.jsx("p",{style:{fontSize:"clamp(10px, 3vw, 12px)",color:"#666",margin:"0"},children:"ì´ ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ ì‹œ ì ˆì•½ ê°€ëŠ¥"})]}),e.jsx("div",{style:{marginBottom:"12px",padding:"10px",backgroundColor:"#f9fafb",borderRadius:"6px"},children:e.jsxs("p",{style:{fontSize:"12px",color:"#555",margin:"0"},children:["ìˆ˜ìˆ˜ë£Œ:",e.jsxs("span",{style:{fontWeight:"bold",marginLeft:"4px"},children:[t.fee,"%"]})," vs ",e.jsxs("span",{style:{fontWeight:"bold",marginLeft:"4px"},children:[t.baseFee,"%"]})]})}),t.confidence>=.95&&e.jsx("div",{style:{marginBottom:"12px",fontSize:"12px",color:"#10b981",fontWeight:"bold"},children:"âœ“ ë†’ì€ ì‹ ë¢°ë„ ì¶”ì²œ"}),t.hasInstallment&&t.installmentInfo&&e.jsx("div",{style:{marginBottom:"12px",padding:"8px",backgroundColor:"#eff6ff",borderRadius:"6px",fontSize:"12px",color:"#0284c7"},children:t.installmentInfo}),F(n),U(d),_()]}),o&&e.jsx("div",{style:{borderTop:"1px solid #e5e7eb"},children:e.jsx(D,{})}),e.jsx("button",{onClick:x,style:{width:"100%",padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"bold",color:"#4f46e5",backgroundColor:"#f9fafb",border:"none",cursor:"pointer",borderTop:"1px solid #e5e7eb"},onMouseOver:i=>i.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:i=>i.currentTarget.style.backgroundColor="#f9fafb",children:o?"ì˜µì…˜ ìˆ¨ê¸°ê¸°":"ë‹¤ë¥¸ ì˜µì…˜ ë³´ê¸°"})]}):e.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#999"},children:"ì¶”ì²œí•  ê²°ì œ ìˆ˜ë‹¨ì´ ì—†ìŠµë‹ˆë‹¤."})},V=()=>{const t=h();return t?e.jsxs("div",{style:{padding:"12px"},children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"bold",margin:"0 0 12px 0"},children:"ìˆ˜ìˆ˜ë£Œ ëª…ì„¸"}),e.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"6px",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"12px"},children:[e.jsxs("span",{children:[t.name," ìˆ˜ìˆ˜ë£Œ:"]}),e.jsxs("span",{style:{fontWeight:"bold"},children:[t.fee,"%"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"12px"},children:[e.jsx("span",{children:"ê¸°ì¤€ ìˆ˜ìˆ˜ë£Œ:"}),e.jsxs("span",{style:{fontWeight:"bold"},children:[t.baseFee,"%"]})]}),e.jsx("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"8px",marginTop:"8px"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#10b981"},children:"ì ˆì•½ì•¡:"}),e.jsxs("span",{style:{fontWeight:"bold",color:"#10b981"},children:["â‚©",t.savingAmount.toLocaleString()]})]})})]})]}),t.hasInstallment&&t.installmentInfo&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"bold",margin:"0 0 12px 0"},children:"í• ë¶€ ì •ë³´"}),e.jsx("div",{style:{backgroundColor:"#eff6ff",borderRadius:"6px",padding:"12px",fontSize:"12px",color:"#0284c7"},children:t.installmentInfo})]}),t.confidence>=.95&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"bold",margin:"0 0 12px 0"},children:"ì¶”ì²œ ì‹ ë¢°ë„"}),e.jsxs("div",{style:{fontSize:"12px",color:"#10b981"},children:["âœ“ ",Math.round(t.confidence*100),"% ì‹ ë¢°ë„"]})]})]}):null},G=()=>{const t=I(),{setSelectedTab:o}=b();return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>o("recommendation"),style:{flex:1,padding:"8px 12px",fontSize:"12px",fontWeight:"bold",borderRadius:"6px",border:"none",backgroundColor:t==="recommendation"?"#4f46e5":"#f3f4f6",color:t==="recommendation"?"#ffffff":"#374151",cursor:"pointer",transition:"all 0.2s ease"},children:"ì¶”ì²œ"}),e.jsx("button",{onClick:()=>o("settings"),style:{flex:1,padding:"8px 12px",fontSize:"12px",fontWeight:"bold",borderRadius:"6px",border:"none",backgroundColor:t==="settings"?"#4f46e5":"#f3f4f6",color:t==="settings"?"#ffffff":"#374151",cursor:"pointer",transition:"all 0.2s ease"},children:"ìƒì„¸ì •ë³´"})]}),t==="recommendation"&&e.jsx($,{}),t==="settings"&&e.jsx(V,{})]})},a={container:{display:"flex",flexDirection:"column",gap:"12px",padding:"16px 20px 20px 20px",backgroundColor:s.background,borderTop:"none",flexShrink:0},primaryButton:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"52px",border:"none",borderRadius:"16px",backgroundColor:s.buttonDark,color:"#ffffff",fontSize:"15px",fontWeight:"700",cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.15), 0 1px 2px rgba(79, 70, 229, 0.1)"},primaryButtonHover:{backgroundColor:s.buttonHover,transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(79, 70, 229, 0.2), 0 2px 4px rgba(79, 70, 229, 0.15)"},secondaryButton:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"40px",border:"none",borderRadius:"0",backgroundColor:"transparent",color:"#9ca3af",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"color 0.2s ease"},secondaryButtonHover:{color:"#6b7280"}},X=()=>{const t=()=>{chrome.windows.create({url:chrome.runtime.getURL("src/subpopup/index.html"),type:"popup",width:480,height:640})},o=()=>{chrome.tabs.create({url:"https://www.picsel.kr/dashboard/cards",active:!1})},[n,d]=g.useState(!1),[x,i]=g.useState(!1);return e.jsxs("div",{style:a.container,children:[e.jsx("button",{onClick:o,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),style:x?{...a.primaryButton,...a.primaryButtonHover}:a.primaryButton,children:"ì „ì²´ ë¦¬í¬íŠ¸ë³´ê¸°"}),e.jsx("button",{onClick:t,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),style:n?{...a.secondaryButton,...a.secondaryButtonHover}:a.secondaryButton,children:"ë‚´ ê²°ì œìˆ˜ë‹¨ë³´ëŸ¬ ê°€ê¸°"})]})},r={container:{width:"100%",minWidth:`${c.POPUP.minWidth}px`,maxWidth:`${c.POPUP.maxWidth}px`,minHeight:`${c.POPUP.idleHeight}px`,display:"flex",flexDirection:"column",backgroundColor:"#f5f5f7",color:s.textPrimary,fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',overflow:"hidden",boxSizing:"border-box"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",backgroundColor:"#F5F6F5",flexShrink:0,zIndex:10},logoContainer:{display:"flex",alignItems:"center",gap:"10px"},logo:{height:"24px",width:"auto",objectFit:"contain"},title:{fontSize:"18px",fontWeight:"800",margin:"0",color:s.textPrimary,letterSpacing:"-0.5px"},iconButton:{background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#393E44",borderRadius:"8px",transition:"all 0.2s ease"},iconButtonHover:{backgroundColor:"rgba(57, 62, 68, 0.08)",color:"#393E44"},content:{flex:1,padding:"0 20px",overflow:"hidden",display:"flex",flexDirection:"column"},loading:{textAlign:"center",padding:"40px 0",color:s.textSecondary,fontSize:"14px"},error:{padding:"16px",backgroundColor:"#fef2f2",borderRadius:"12px",border:"1px solid #fee2e2",margin:"16px 0"},errorText:{color:"#b91c1c",margin:"0",fontSize:"13px",lineHeight:"1.5",fontWeight:"500"}},Y=()=>{const t=u(),o=H(),n=O(),d=T(),[x,i]=g.useState(!1),[v,y]=g.useState(!1),S=n?c.POPUP.idleHeight:c.POPUP.expandedHeight,k=()=>{const m=chrome.runtime.getURL("src/options/index.html");try{chrome.windows.create({url:m,type:"popup",width:c.SUBPOPUP.width,height:c.SUBPOPUP.height},()=>{const f=chrome.runtime.lastError;f&&(console.warn("[Popup] Failed to open options popup window:",f.message),typeof chrome.runtime.openOptionsPage=="function"?chrome.runtime.openOptionsPage():window.open(m,"_blank"))})}catch(f){console.warn("[Popup] Exception while opening options:",f),typeof chrome.runtime.openOptionsPage=="function"?chrome.runtime.openOptionsPage():window.open(m,"_blank")}};return e.jsxs("div",{style:{...r.container,height:`${S}px`,flex:"0 0 auto"},children:[e.jsxs("div",{style:r.header,children:[e.jsxs("div",{style:r.logoContainer,children:[e.jsx("img",{src:"/assets/icon/picsel-logo.png",alt:"PicSel",style:r.logo}),e.jsx("h1",{style:r.title,children:"PicSel"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:k,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),style:x?{...r.iconButton,...r.iconButtonHover}:r.iconButton,title:"ê²°ì œ ìˆ˜ë‹¨ ì„¤ì •",children:e.jsx(R,{size:20,strokeWidth:2.5})}),e.jsx("button",{onClick:()=>window.close(),onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),style:v?{...r.iconButton,...r.iconButtonHover}:r.iconButton,title:"ë‹«ê¸°",children:e.jsx(C,{size:20,strokeWidth:2.5})})]})]}),e.jsxs("div",{style:r.content,children:[t&&e.jsx("div",{style:r.loading,children:e.jsx("p",{children:"ë¡œë”© ì¤‘..."})}),o&&!t&&e.jsx("div",{style:r.error,children:e.jsx("p",{style:r.errorText,children:o})}),n&&e.jsx(A,{}),d&&e.jsx(G,{}),!n&&!d&&!t&&!o&&e.jsx("div",{style:r.loading,children:e.jsx("p",{children:"ì´ˆê¸°í™” ì¤‘..."})})]}),e.jsx(X,{})]})},j=document.getElementById("root");j&&B.createRoot(j).render(e.jsx(P.StrictMode,{children:e.jsx(Y,{})}));
