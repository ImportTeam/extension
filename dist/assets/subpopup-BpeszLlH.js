import{r as m,j as e,R as S,a as C}from"./client-5jyeqxZ7.js";import{c as I,a as P,p as k}from"./middleware-C2IU-WCn.js";const M=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],T=I("gift",M),z={getItem:async n=>new Promise(t=>{chrome.storage.local.get([n],a=>{t(a[n]??null)})}),setItem:async(n,t)=>new Promise(a=>{chrome.storage.local.set({[n]:t},()=>{a()})}),removeItem:async n=>new Promise(t=>{chrome.storage.local.remove([n],()=>{t()})})},y=P()(k(n=>({isOpen:!1,activeTab:"list",isLoading:!1,error:null,customMethods:[],setIsOpen:t=>{n({isOpen:t})},setActiveTab:t=>{n({activeTab:t})},addPaymentMethod:t=>{const a=Date.now(),l={...t,createdAt:a,updatedAt:a,isCustom:!0};n(i=>({customMethods:[...i.customMethods,l]}))},updatePaymentMethod:(t,a)=>{n(l=>({customMethods:l.customMethods.map(i=>i.id===t?{...i,...a,updatedAt:Date.now()}:i)}))},deletePaymentMethod:t=>{n(a=>({customMethods:a.customMethods.filter(l=>l.id!==t)}))},setCustomMethods:t=>{n({customMethods:t})},reset:()=>{n({isOpen:!1,activeTab:"list",isLoading:!1,error:null,customMethods:[]})}}),{name:"subpopup-store",storage:z,partialize:n=>({customMethods:n.customMethods})})),W=()=>y(n=>n.activeTab),A=()=>y(n=>n.customMethods),b=()=>y(n=>({setIsOpen:n.setIsOpen,setActiveTab:n.setActiveTab,addPaymentMethod:n.addPaymentMethod,updatePaymentMethod:n.updatePaymentMethod,deletePaymentMethod:n.deletePaymentMethod,setCustomMethods:n.setCustomMethods,reset:n.reset})),L=()=>{const{addPaymentMethod:n}=b(),[t,a]=m.useState(!1),[l,i]=m.useState(null),[r,p]=m.useState(!1),[s,h]=m.useState({id:"",name:"",savingAmount:0,fee:.8,baseFee:.8,confidence:.8,hasInstallment:!1,installmentInfo:""}),d=u=>{const{name:x,value:g,type:v}=u.target;h(N=>({...N,[x]:v==="checkbox"?u.target.checked:v==="number"?parseFloat(g)||0:g}))},c=()=>s.id.trim()?s.name.trim()?s.savingAmount<0?(i("ì ˆì•½ ê¸ˆì•¡ì€ 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤."),!1):s.fee<0||s.fee>100?(i("ìˆ˜ìˆ˜ë£ŒëŠ” 0 ~ 100 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤."),!1):s.confidence<0||s.confidence>1?(i("ì‹ ë¢°ë„ëŠ” 0 ~ 1 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤."),!1):!0:(i("ê²°ì œ ìˆ˜ë‹¨ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."),!1):(i("ê²°ì œ ìˆ˜ë‹¨ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."),!1),f=async u=>{if(u.preventDefault(),i(null),p(!1),!!c()){a(!0);try{await new Promise(g=>setTimeout(g,500));const x={id:`custom-${Date.now()}`,name:s.name,savingAmount:s.savingAmount,fee:s.fee,baseFee:s.baseFee,confidence:s.confidence,hasInstallment:s.hasInstallment,installmentInfo:s.installmentInfo||void 0};n(x),p(!0),h({id:"",name:"",savingAmount:0,fee:.8,baseFee:.8,confidence:.8,hasInstallment:!1,installmentInfo:""}),setTimeout(()=>p(!1),3e3)}catch(x){i(x instanceof Error?x.message:"ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}finally{a(!1)}}};return e.jsxs("form",{className:"form-section",onSubmit:f,children:[l&&e.jsxs("div",{className:"error-message",children:[e.jsx("strong",{children:"âš ï¸ ì˜¤ë¥˜"}),e.jsx("div",{style:{marginTop:"4px"},children:l})]}),r&&e.jsxs("div",{className:"success-message",children:[e.jsx("strong",{children:"âœ“ ì™„ë£Œ!"}),e.jsx("div",{style:{marginTop:"4px"},children:"ê²°ì œ ìˆ˜ë‹¨ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤"})]}),e.jsx("div",{style:{fontSize:"12px",fontWeight:"700",color:"var(--color-primary)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-md)",borderBottom:"2px solid var(--color-primary-lighter)"},children:"ê²°ì œ ìˆ˜ë‹¨ ì •ë³´"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ê²°ì œ ìˆ˜ë‹¨ ì´ë¦„"}),e.jsx("input",{type:"text",name:"name",className:"form-input",placeholder:"ì˜ˆ: ì‹ í•œì¹´ë“œ, í† ìŠ¤ë¨¸ë‹ˆ",value:s.name,onChange:d,disabled:t}),e.jsx("div",{className:"form-hint",children:"ğŸ’¡ ì‚¬ìš©ìì—ê²Œ í‘œì‹œë  ê²°ì œ ìˆ˜ë‹¨ ì´ë¦„"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ì˜ˆìƒ ì ˆì•½ ê¸ˆì•¡"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx("input",{type:"number",name:"savingAmount",className:"form-input",placeholder:"0",value:s.savingAmount,onChange:d,disabled:t,min:"0",style:{flex:1}}),e.jsx("span",{style:{color:"var(--color-text-tertiary)",fontWeight:"600"},children:"ì›"})]}),e.jsx("div",{className:"form-hint",children:"ğŸ’¡ ì´ ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ ì‹œ ì ˆì•½ ê°€ëŠ¥í•œ ê¸ˆì•¡"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ìˆ˜ìˆ˜ë£Œìœ¨"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx("input",{type:"number",name:"fee",className:"form-input",placeholder:"0.5",value:s.fee,onChange:d,disabled:t,min:"0",max:"100",step:"0.1",style:{flex:1}}),e.jsx("span",{style:{color:"var(--color-text-tertiary)",fontWeight:"600"},children:"%"})]}),e.jsx("div",{className:"form-hint",children:"ğŸ’¡ í˜„ì¬ ìˆ˜ìˆ˜ë£Œ"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ê¸°ì¤€ ìˆ˜ìˆ˜ë£Œ"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx("input",{type:"number",name:"baseFee",className:"form-input",placeholder:"0.8",value:s.baseFee,onChange:d,disabled:t,min:"0",max:"100",step:"0.1",style:{flex:1}}),e.jsx("span",{style:{color:"var(--color-text-tertiary)",fontWeight:"600"},children:"%"})]}),e.jsx("div",{className:"form-hint",children:"ğŸ’¡ ê¸°ì¤€ ìˆ˜ìˆ˜ë£Œ"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ì‹ ë¢°ë„"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)",padding:"var(--spacing-md)",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)"},children:[e.jsx("input",{type:"range",name:"confidence",min:"0",max:"1",step:"0.1",value:s.confidence,onChange:d,disabled:t,style:{flex:1,cursor:t?"not-allowed":"pointer",accentColor:"var(--color-primary)"}}),e.jsxs("span",{style:{fontSize:"14px",fontWeight:"700",color:"var(--color-primary)",minWidth:"40px",textAlign:"right"},children:[(s.confidence*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"form-hint",children:"ğŸ’¡ 0%ëŠ” ìµœí•˜, 100%ëŠ” ìµœê³  ì‹ ë¢°ë„"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"var(--spacing-md)",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",cursor:t?"not-allowed":"pointer",transition:"all 0.2s ease"},children:[e.jsx("input",{type:"checkbox",name:"hasInstallment",id:"has-installment",checked:s.hasInstallment,onChange:d,disabled:t,style:{accentColor:"var(--color-primary)",cursor:"pointer",marginRight:"var(--spacing-md)",width:"18px",height:"18px"}}),e.jsx("label",{htmlFor:"has-installment",style:{cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"var(--color-text-primary)"},children:"í• ë¶€ ì§€ì›"})]}),s.hasInstallment&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"í• ë¶€ ì •ë³´"}),e.jsx("input",{type:"text",name:"installmentInfo",className:"form-input",placeholder:"ì˜ˆ: 3ê°œì›” ë¬´ì´ì, 6ê°œì›” ì´ìƒ ê°€ëŠ¥",value:s.installmentInfo,onChange:d,disabled:t}),e.jsx("div",{className:"form-hint",children:"ğŸ’¡ í• ë¶€ ì˜µì…˜ ìƒì„¸ ì •ë³´"})]}),e.jsx("div",{className:"button-group",style:{marginTop:"var(--spacing-xl)"},children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:t,style:{cursor:t?"not-allowed":"pointer",opacity:t?.7:1},children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner",style:{width:"14px",height:"14px",borderWidth:"2px"}}),"ì €ì¥ ì¤‘..."]}):e.jsx(e.Fragment,{children:"âœ“ ì¶”ê°€í•˜ê¸°"})})})]})},R=()=>{const n=A(),{deletePaymentMethod:t}=b();if(n.length===0)return e.jsxs("div",{className:"payment-list-empty",children:[e.jsx("div",{className:"payment-list-empty-icon",children:"ï¿½ï¸"}),e.jsx("div",{className:"payment-list-empty-text",children:"ì•„ì§ ê²°ì œ ìˆ˜ë‹¨ì´ ì—†ì–´ìš”"}),e.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-tertiary)",marginTop:"8px"},children:"ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ì„ ì¶”ê°€í•´ë³´ì„¸ìš”"})]});const a=i=>{window.confirm("ì •ë§ ì´ ê²°ì œ ìˆ˜ë‹¨ì„ ì‚­ì œí•˜ì‹œê² ì–´ìš”?")&&t(i)},l=i=>{const r=i.toLowerCase();return r.includes("ì¹´ë“œ")?"ğŸ’³":r.includes("ê³„ì¢Œ")||r.includes("ì†¡ê¸ˆ")?"ğŸ¦":r.includes("í¬ì¸íŠ¸")||r.includes("ì¿ í°")?"ğŸ«":r.includes("í˜ì´")||r.includes("pay")?"ğŸ“±":r.includes("í˜„ê¸ˆ")?"ğŸ’µ":"ğŸ’°"};return e.jsx("div",{className:"payment-list",children:n.map(i=>{const r=i.confidence>=.95,p=l(i.name);return e.jsxs("div",{className:"payment-item",children:[e.jsx("div",{className:"payment-item-icon",children:p}),e.jsxs("div",{className:"payment-item-content",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--spacing-md)"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"payment-item-name",children:i.name}),e.jsx("div",{className:"payment-item-meta",children:e.jsx("span",{children:new Date(i.createdAt).toLocaleDateString("ko-KR")})})]}),r&&e.jsx("div",{className:"payment-item-badge success",children:"â­ ìš°ìˆ˜"})]}),e.jsxs("div",{className:"payment-item-info",children:[e.jsxs("div",{className:"payment-item-info-item",children:[e.jsx("span",{className:"payment-item-info-label",children:"ì ˆì•½ì•¡"}),e.jsxs("span",{className:"payment-item-info-value",children:["â‚©",i.savingAmount.toLocaleString()]})]}),e.jsxs("div",{className:"payment-item-info-item",children:[e.jsx("span",{className:"payment-item-info-label",children:"ìˆ˜ìˆ˜ë£Œ"}),e.jsxs("span",{className:"payment-item-info-value",children:[i.fee,"%"]})]}),e.jsxs("div",{className:"payment-item-info-item",children:[e.jsx("span",{className:"payment-item-info-label",children:"ì‹ ë¢°ë„"}),e.jsxs("span",{className:"payment-item-info-value",children:[(i.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"payment-item-info-item",children:[e.jsx("span",{className:"payment-item-info-label",children:"ê¸°ë³¸ìˆ˜ìˆ˜ë£Œ"}),e.jsxs("span",{className:"payment-item-info-value",children:[i.baseFee,"%"]})]})]}),i.hasInstallment&&i.installmentInfo&&e.jsxs("div",{style:{fontSize:"12px",padding:"var(--spacing-md)",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",color:"var(--color-text-secondary)",marginBottom:"var(--spacing-md)",borderLeft:"3px solid var(--color-primary-lighter)",fontWeight:"500"},children:[e.jsx("strong",{children:"í• ë¶€ ì •ë³´:"})," ",i.installmentInfo]}),e.jsxs("div",{className:"payment-item-actions",style:{justifyContent:"space-between"},children:[e.jsx("button",{className:"payment-item-btn payment-item-btn-edit",onClick:()=>alert("ìˆ˜ì • ê¸°ëŠ¥ì€ ê³§ ì¶”ê°€ë©ë‹ˆë‹¤."),style:{flex:1},title:"ìˆ˜ì •",children:"âœï¸ ìˆ˜ì •"}),e.jsx("button",{className:"payment-item-btn payment-item-btn-delete",onClick:()=>a(i.id),style:{flex:1},title:"ì‚­ì œ",children:"ğŸ—‘ï¸ ì‚­ì œ"})]})]})]},i.id)})})},D=()=>{const n=W(),{setActiveTab:t}=b();return e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"subpopup-header",children:[e.jsxs("div",{className:"subpopup-header-title",children:[e.jsx("span",{style:{fontSize:"20px",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},children:"ğŸ’³"}),e.jsx("h1",{children:"ê²°ì œ ìˆ˜ë‹¨ ê´€ë¦¬"})]}),e.jsx("button",{className:"subpopup-header-close-btn",onClick:()=>window.close(),title:"ë‹«ê¸°","aria-label":"ì°½ ë‹«ê¸°",children:"âœ•"})]}),e.jsxs("div",{className:"subpopup-tabs",children:[e.jsx("button",{className:`subpopup-tab-btn ${n==="add"?"active":""}`,onClick:()=>t("add"),"aria-selected":n==="add",children:"â• ìƒˆë¡œ ì¶”ê°€"}),e.jsx("button",{className:`subpopup-tab-btn ${n==="list"?"active":""}`,onClick:()=>t("list"),"aria-selected":n==="list",children:"ğŸ“‹ ê´€ë¦¬"})]}),e.jsxs("div",{className:"subpopup-content",style:{animation:"fadeIn 0.2s ease"},children:[n==="add"&&e.jsx(L,{}),n==="list"&&e.jsx(R,{})]}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(4px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})},B=()=>{const[n,t]=m.useState(null),[a,l]=m.useState([]),[i,r]=m.useState([]),[p,s]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const d=await chrome.storage.local.get(["currentProduct"]);if(d.currentProduct){const c=d.currentProduct;if(console.log("[useProductData] Loaded product:",{title:c.title?.substring(0,50),imageUrl:c.imageUrl?.substring(0,80)||"none",imagesCount:c.images?.length||0,variantsCount:c.variants?.length||0}),t(c),Array.isArray(c.cardBenefits)){const u=[...c.cardBenefits].sort((x,g)=>(g.rate||0)-(x.rate||0)).slice(0,3);l(u)}const f=[];c.imageUrl&&f.push(c.imageUrl),Array.isArray(c.images)&&c.images.length>0&&f.push(...c.images.filter(u=>typeof u=="string")),r(f),console.log("[useProductData] Images loaded:",f.length)}}catch(d){console.error("[useProductData] Error:",d)}finally{s(!1)}})()},[]),{product:n,topBenefits:a,imageSlides:i,loading:p}},F=({enabled:n,contentRef:t})=>{m.useEffect(()=>{if(!n||!t.current)return;const a=()=>{if(!t.current)return;const s=t.current.scrollHeight;console.log("[useWindowResize] Content scroll height:",s);const h=document.querySelector('[style*="flexShrink"]'),d=h?h.clientHeight:52,c=Math.min(d+s+24,900);console.log("[useWindowResize] Calculated total height:",{headerHeight:d,contentHeight:s,totalHeight:c});try{window.resizeTo(420,c),console.log("[useWindowResize] Window resized to:",{width:420,height:c})}catch(f){console.warn("[useWindowResize] Cannot resize window:",f)}};a();const l=new ResizeObserver(()=>{a()});l.observe(t.current);const i=t.current.querySelectorAll("img");let r=0;const p=()=>{r++,r===i.length&&setTimeout(a,100)};return i.forEach(s=>{s.complete?r++:(s.addEventListener("load",p),s.addEventListener("error",p))}),r===i.length&&setTimeout(a,100),()=>{l.disconnect(),i.forEach(s=>{s.removeEventListener("load",p),s.removeEventListener("error",p)})}},[n,t])},o={wrapper:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#f3f4f6",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',color:"#1f2937",overflow:"hidden"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",backgroundColor:"#111827",color:"#ffffff",flexShrink:0},logoWrapper:{display:"flex",alignItems:"center",gap:"8px"},logo:{width:"20px",height:"20px",objectFit:"contain"},title:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},closeBtn:{background:"none",border:"none",cursor:"pointer",padding:"4px",fontSize:"20px",color:"#9ca3af",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s"},content:{flex:1,overflowY:"hidden",padding:"16px 20px",display:"flex",flexDirection:"column",gap:"16px",width:"100%"},card:{backgroundColor:"#ffffff",borderRadius:"12px",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},productSection:{display:"flex",gap:"16px",alignItems:"flex-start"},imageWrapper:{width:"80px",height:"80px",borderRadius:"8px",overflow:"hidden",backgroundColor:"#f3f4f6",flexShrink:0,border:"1px solid #e5e7eb"},productImage:{width:"100%",height:"100%",objectFit:"cover"},productInfo:{display:"flex",flexDirection:"column",gap:"4px",flex:1},productTitle:{fontSize:"14px",fontWeight:"600",lineHeight:"1.4",color:"#111827",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden"},priceRow:{display:"flex",alignItems:"baseline",gap:"8px",marginTop:"4px"},finalPrice:{fontSize:"18px",fontWeight:"800",color:"#111827"},originalPrice:{fontSize:"13px",color:"#9ca3af",textDecoration:"line-through"},discountBadge:{fontSize:"12px",fontWeight:"700",color:"#4f46e5",backgroundColor:"#eef2ff",padding:"2px 6px",borderRadius:"4px"},shippingText:{fontSize:"12px",color:"#6b7280",marginTop:"2px"},sectionHeader:{fontSize:"14px",fontWeight:"700",color:"#111827",marginBottom:"8px"},benefitCard:{backgroundColor:"#ffffff",borderRadius:"12px",border:"1px solid #e5e7eb",padding:"16px"},benefitTitle:{fontSize:"14px",fontWeight:"700",color:"#111827",marginBottom:"4px"},benefitDesc:{fontSize:"13px",color:"#6b7280"},extraBenefitCard:{backgroundColor:"#ffffff",borderRadius:"12px",border:"2px solid #818cf8",padding:"14px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 6px -1px rgba(79, 70, 229, 0.1)"},iconCircle:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#eef2ff",display:"flex",alignItems:"center",justifyContent:"center",color:"#4f46e5",fontSize:"16px",flexShrink:0},extraBenefitText:{fontSize:"14px",fontWeight:"700",color:"#4f46e5"},optionsList:{display:"flex",flexDirection:"column",gap:"8px"},optionItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",backgroundColor:"#ffffff",borderRadius:"12px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},optionLabel:{fontSize:"14px",fontWeight:"600",color:"#374151"},optionPrice:{fontSize:"14px",fontWeight:"700",color:"#111827"},footer:{padding:"0 20px 20px 20px",marginTop:"auto"},ctaButton:{width:"100%",height:"52px",backgroundColor:"#4f46e5",color:"#ffffff",fontSize:"16px",fontWeight:"700",border:"none",borderRadius:"12px",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(79, 70, 229, 0.3)",transition:"background-color 0.2s"}},E=()=>{const n=m.useRef(null),{product:t,loading:a}=B();if(F({enabled:!a,contentRef:n}),a||!t)return null;const l=t.originalPrice||0,i=t.discountPrice||t.amount||0,r=l>0?Math.round((l-i)/l*100):0,p=chrome.runtime.getURL("assets/icon/picsel-logo.png");return e.jsxs("div",{ref:n,style:o.wrapper,children:[e.jsxs("div",{style:o.header,children:[e.jsxs("div",{style:o.logoWrapper,children:[e.jsx("img",{src:p,alt:"PicSel",style:o.logo,onError:s=>{s.currentTarget.style.display="none"}}),e.jsx("span",{style:o.title,children:"PicSel í˜œíƒ ì •ë³´"})]}),e.jsx("button",{style:o.closeBtn,onClick:()=>window.close(),children:"âœ•"})]}),e.jsxs("div",{style:o.content,children:[e.jsx("div",{style:o.card,children:e.jsxs("div",{style:o.productSection,children:[e.jsx("div",{style:o.imageWrapper,children:t.imageUrl&&e.jsx("img",{src:t.imageUrl,alt:"Product",style:o.productImage})}),e.jsxs("div",{style:o.productInfo,children:[e.jsx("div",{style:o.productTitle,children:t.title}),e.jsxs("div",{style:o.priceRow,children:[e.jsxs("span",{style:o.finalPrice,children:["â‚©",i.toLocaleString()]}),l>0&&e.jsxs("span",{style:o.originalPrice,children:["â‚©",l.toLocaleString()]})]}),e.jsxs("div",{style:o.priceRow,children:[r>0&&e.jsxs("span",{style:o.discountBadge,children:["-",r,"%"]}),e.jsx("span",{style:o.shippingText,children:"ë°°ì†¡: ë¬´ë£Œë°°ì†¡"})]})]})]})}),e.jsxs("div",{children:[e.jsx("div",{style:o.sectionHeader,children:"ì¹´ë“œ í˜œíƒ TOP"}),e.jsx("div",{style:o.benefitCard,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsx("div",{style:o.benefitTitle,children:"ì œíœ´ ì¹´ë“œ"}),e.jsx("div",{style:o.benefitDesc,children:"ìµœëŒ€ 5% ì¦‰ì‹œí• ì¸ (ì™€ìš°ì „ìš©)"})]})})]}),e.jsxs("div",{children:[e.jsx("div",{style:o.sectionHeader,children:"ì¶”ê°€ í˜œíƒ"}),e.jsxs("div",{style:o.extraBenefitCard,children:[e.jsx("div",{style:o.iconCircle,children:e.jsx(T,{size:18})}),e.jsx("span",{style:o.extraBenefitText,children:"ì¿ íŒ¡ìºì‹œ 27,960 ì› ì ë¦½"})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:o.sectionHeader,children:"ë‹¤ë¥¸ êµ¬ì„±"}),e.jsxs("div",{style:o.optionsList,children:[e.jsxs("div",{style:o.optionItem,onMouseOver:s=>s.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:s=>s.currentTarget.style.backgroundColor="#ffffff",children:[e.jsx("span",{style:o.optionLabel,children:"512GB"}),e.jsxs("span",{style:o.optionPrice,children:["â‚©",i.toLocaleString()]})]}),e.jsxs("div",{style:o.optionItem,onMouseOver:s=>s.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:s=>s.currentTarget.style.backgroundColor="#ffffff",children:[e.jsx("span",{style:o.optionLabel,children:"16GB"}),e.jsxs("span",{style:o.optionPrice,children:["â‚©",i.toLocaleString()]})]})]})]})]}),e.jsx("div",{style:o.footer,children:e.jsx("button",{style:o.ctaButton,onMouseOver:s=>s.currentTarget.style.backgroundColor="#4338ca",onMouseOut:s=>s.currentTarget.style.backgroundColor="#4f46e5",onClick:()=>{const s=t.url||window.location.href;window.open(s,"_blank")},children:"ê²°ì œì‹œ ì¿ í° ì ìš©"})})]})},O=new URLSearchParams(window.location.search),w=O.get("auto")==="true";console.log(`ğŸª [SubPopup] Mode: ${w?"Auto":"Manual"}`);const j=document.getElementById("root");j&&S.createRoot(j).render(e.jsx(C.StrictMode,{children:w?e.jsx(E,{}):e.jsx(D,{})}));
